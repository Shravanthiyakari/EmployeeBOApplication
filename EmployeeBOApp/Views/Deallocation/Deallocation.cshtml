@{
    ViewData["Title"] = "Deallocation Request";
}

<h2>Deallocation Request Form</h2>

<div id="successMessage" class="alert alert-success text-center" style="display:none;"></div>
<div id="errorMessage" class="alert alert-danger text-center" style="display:none;"></div>

<form id="deallocationForm">
    <!-- Short Project Name -->
    <div class="form-group">
        <label for="ShortProjectName">Short Project Name<span style="color:red">*</span></label>
        <select id="ShortProjectName" class="form-control" required>
            <option value="">-- Select --</option>
            @foreach (var name in ViewBag.ShortProjectNames)
            {
                <option value="@name">@name</option>
            }
        </select>
    </div>

    <!-- Employee Name -->
    <div class="form-group">
        <label for="EmployeeName">Employee Name<span style="color:red">*</span></label>
        <select id="EmployeeName" class="form-control" required></select>
    </div>

    <!-- Auto-filled fields -->
    <div class="form-group"><label for="EmployeeID">Employee ID</label><input type="text" id="EmployeeID" class="form-control" readonly /></div>
    <div class="form-group"><label for="ProjectCode">Project Code</label><input type="text" id="ProjectCode" class="form-control" readonly /></div>
    <div class="form-group"><label for="ProjectName">Project Name</label><input type="text" id="ProjectName" class="form-control" readonly /></div>
    <div class="form-group"><label for="RequestedBy">Requested By</label><input type="email" id="RequestedBy" class="form-control" readonly /></div>
    <div class="form-group"><label for="ProjectManager">Project Manager</label><input type="text" id="ProjectManager" class="form-control" readonly /></div>
    <div class="form-group"><label for="DeliveryManager">Delivery Manager</label><input type="text" id="DeliveryManager" class="form-control" readonly /></div>

    <!-- End Date -->
    <div class="form-group">
        <label for="EndDate">End Date<span style="color:red">*</span></label>
        <input type="date" id="EndDate" name="EndDate" class="form-control" min="@DateTime.Now.ToString("yyyy-MM-dd")" required />

    </div>

    <!-- Buttons -->
    <div class="form-group row mt-3">
        <div class="col-sm-12 text-end">
            <button type="submit" class="btn btn-success me-2">Submit Request</button>
            <button type="button" id="clearButton" class="btn btn-secondary">Clear</button>
        </div>
    </div>

    <label id="formMessage" class="mt-2 d-block" style="display:none;"></label>
</form>

@section Scripts {
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>

<script src="~/js/site.js"></script> 
}
